# Assess
## 1.AHP
### 步骤：
- 问题定义：确定决策问题的目标、准测和备选方案
- 层次结构构建： 将问题分解为多个层次，并构建出层次结构，包括目标、准测、子准测和备选方案
- 设定比较矩阵： 这部分一般需要查阅资料或者请教专家来确定比较系数
- 计算权重向量： 这部分下面将会详细解释其数学背景
- 一致性检验： 检验比较矩阵是否具有合理的一致性，简单来说，是否趋近于一致阵，AHP使用一致性比率（*Consistence Ratio，CR*）<br>
数学公式如下：

$$
CR = \frac{CI}{RI}
$$ <br>

其中，CI是一致性指标，RI是随机一致性指标

$$
CI = \frac{\lambda_{\text{max}} - n}{n - 1}
$$

<p align="center">一致性检验RI值</p>

 | 阶数 | 1   | 2   | 3   | 4    | 5    | 6    | 7    | 8    | 9    | 10   | 11   | 12   | 13   | 14   | 15   |  
 |------|-----|-----|-----|------|------|------|------|------|------|------|------|------|------|------|------|  
 | RI值 | 0   | 0   | 0   | 0.52 | 0.89 | 1.12 | 1.26 | 1.36 | 1.41 | 1.46 | 0.49 | 0.52 | 1.54 | 1.56 | 1.58 |  

**老子服了，一个表格居中就这么难，github的前端代码编写人员就没有强迫症吗？** :slightly_smiling_face:  :vomiting_face: <br>
- 计算总得分： 通过将每个备选方案的权重与其在每个准则上的得分相乘，并对所有准则求和，计算出每个备选方案的总得分，排序选择最优解

### 数学背景
完美的判断矩阵是一致阵，而一致阵经过处理后，列空间为1维，即秩是1，1维向量对应的张成空间就是权重分配空间。一致阵有唯一的一个特征值与这个狭小的特征空间对应，也可以说与特征向量对应。
但实际中，我们所构造的判断矩阵基本不会是完美的，通过一致性检验是为了保证我们所构造的矩阵满足一致阵要求的范围。这个时候，我们就可以用当前判断矩阵的最大特征值去对应一致阵的那个唯一特征值，
从而得到对应的权重特征向量。<br>
***参考文章：*** [点击这里访问马浩宁](https://www.zhihu.com/question/34757148/answer/2473735457)

---  

## 2.熵权法
### 步骤
- 数据预处理：正向化处理和归一化处理
- 计算指标变异程度：
  
$$
p_{ij} = \frac{Y_{ij}}{\sum_{i=1}^n Y_{ij}}, \quad i = 1, \ldots, n, \quad j = 1, \ldots, m
$$

- 计算信息熵：
  
 $$
 E_j = -\frac{1}{\ln(n)}\sum_{i=1}^{n} p_{ij}\ln(p_{ij})
 $$
 
- 计算权重：

 $$
 w_j = \frac{1 - E_j}{\sum_{j=1}^{m} (1 - E_j)}
 $$

:grinning: **优点：** <br>
① 熵权法确定权重依据来自数据本身，客观性强，减少了主观性对决策结果的影响 <br>
② 熵权法计算逻辑简单清晰，操作性较好，易于实现

:rofl: **缺点：**  <br>
① 熵权法将不同指标看作独立存在，未考虑指标间的相关性，容易出现权重分配不合理的情况 <br>
② 熵权法完全取决于数据本身，计算得出的权重往往难以直接应用到实际中，需要进行一定调整

---  

## 3.TOPSIS
### 步骤
- 数据正向化处理
- 查找最优解和最劣解
- 计算每个方案到最优解和最劣解的距离

```math
D_i^+ = \sqrt{\sum_{j=1}^{n} (x_{ij} - y_{j}^{+})^2} 
```

$$
D_i^- = \sqrt{\sum_{j=1}^{n} (x_{ij} - y_{j}^{-})^2}
$$

- 计算最终的决策值
  
:slightly_smiling_face: **优点：** 避免了数据的主观性，不需要目标函数，不用通过检验，而且能很好地刻画多个影响指标的综合影响力度

:unamused: **缺点：** 不确定指标的选取个数为多少适宜，才能够取很好地刻画指标的影响力度

---  
## 4.CRITIC（*my favorite feeling*）
### 步骤：
- 数据正向化处理（归一化）
  
$$
{x_{ij}}=\frac{x_{ij}-min(x_{j})}{max(x_{j})-\min{(x_{j})}}
$$

$$ 
x_{ij}=\frac{max(x_{j})-x_{ij}}{max(x_{j})-\min{(x_{j})}}
$$

- 计算对比性：用标准差 $\sigma_{j}$ 表示 $j$ 项指标的对比性

```math
\sigma_{j}=\sqrt{\frac{\sum_{i=1}^{m}\left({x_{ij}}-\overline{{{x_{j}}}}\right)}{m-1}}
```
- 计算矛盾性：利用相关矩阵计算
```math
r_{ij} = \frac{\sum_{k=1}^{m} (x_{ki} - \bar{x}_i)(x_{kj} - \bar{x}_j)}{\sqrt{\sum_{k=1}^{m} (x_{ki} - \bar{x}_i)^2 \sum_{k=1}^{m} (x_{kj} - \bar{x}_j)^2}}
```
```math
f_{j}=\sum_{i=1}^{m}\bigl(1-r_{ij}\bigr)
```
- 计算信息承载量
```math
C_{j}=\sigma_{j}f_{j}
```
- 计算权重得分
```math
w_{j}=\frac{C_{j}}{\sum_{j=1}^{n}C_{j}}
```
- 计算方案最终得分
```math
S_{i}=\sum_{j=1}^{n}w_{j}x_{ij}
```

:face_in_clouds: **优点：** 比单纯的熵权法和变异系数法好

***有关数据归一化和标准化研究的一篇参考文章：*** [点击这里访问大写的FENG](https://zhuanlan.zhihu.com/p/296252799)


---  
## 5.基于熵权法的TOPSIS
### 步骤：
- 数据正向化处理
- 将原始数据叠加熵权法得到的权重
- 查找最优解和最劣解
- 计算每个方案到最优解和最劣解的距离              
- 计算最终的决策值

- ```mermaid
	flowchart TD;
	     A-->B;
	     A-->C;
	     B-->D;
	     C-->D;
	```

